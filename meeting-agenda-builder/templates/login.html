<template name="loginView">
	{{> loginButtons}}

	{{#if loggedIn}}
		{{> schedules}}
	{{else}}
		Not logged in
	{{/if}}

	{{#if newScheduleModal}}
		{{> newSchedule}}
	{{/if}}

	{{#if deleteScheduleModal}}
		{{> deleteSchedule}}
	{{/if}}
</template>

<template name="schedules">
	<p>Skedules</p>

	<div id="scheduleList">
		<div class="title">
			Schedules
		</div>
		
		<table class="fullwidth">
			{{#each schedules}}
				<tr class="scheduleListItem">
					<td class="scheduleListClickable">
						{{scheduleTitle}}
					</td>
					<td class="scheduleListClickable">
						{{numberOfDays}} days
					</td>
					{{#if editSchedules}}
						<td class="deleteSchedule">
							X
						</td>
					{{/if}}
				</tr>
			{{/each}}
		</table>
		<button id="newSchedule">Create new schedule</button>
		{{#if editSchedules}}
			<button id="stopEditing">Done editing</button>
		{{else}}
			<button id="editSchedules">Edit schedules</button>
		{{/if}}
	</div>
</template>

<template name="newSchedule">
	<div class="modal_overlay">
		<div class="modal">
			<div class="popupHeader">
				<div class="popupHeader_title">
					Create new schedule
				</div>
				<div class="popupHeader_button closeNewScheduleModal">
					X
				</div>
			</div>

			<form class="popupForm">
				<input class="modalinput" type="text" name="scheduleName" placeholder="Schedule name" required="true"/>
				<label class="modalLabel" for="numberOfDays">Number of days</label>
				<input class="modalinput" type="number" name="numberOfDays" min="0" value="1" required="true"/>
				<button class="btn" type="submit">Create new</button>
			</form>
		</div>
	</div>
</template>

<template name="deleteSchedule">
	<div class="modal_overlay">
		<div class="modal">
			<div class="popupHeader">
				<div class="popupHeader_title">
					Delete schedule
				</div>
				<div class="popupHeader_button closeDeleteScheduleModal">
					X
				</div>
			</div>

			<form class="popupForm">
				Are you sure you want to delete the schedule "{{scheduleTitle}}"? The schedule contains {{numDays}} days. The action can not be undone.<br/>
				<button class="btn badBtn" type="submit">Delete</button>
			</form>
		</div>
	</div>
</template>